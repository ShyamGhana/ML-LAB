# 1. Import Libraries
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.datasets import fetch_california_housing

# 2. Load Dataset
data = fetch_california_housing(as_frame=True)
df = data.frame

# 3. Show first 5 rows
print(df.head())

# 4. Find correlation
print("\nCorrelation between features:\n", df.corr())

# 5. Plots

# Line plot of median house value (first 20 rows)
df['MedHouseVal'][:20].plot(kind='line', title='Line Plot - Median House Value')
plt.show()

# Bar plot of median income (first 10 rows)
df['MedInc'][:10].plot(kind='bar', title='Bar Plot - Median Income', color='orange')
plt.show()

# Pie chart of average rooms (categorized into Low, Medium, High)
df['Rooms'] = pd.cut(df['AveRooms'], bins=3, labels=['Low', 'Medium', 'High'])
df['Rooms'].value_counts().plot(kind='pie', autopct='%1.1f%%', title='Pie Chart - Average Rooms')
plt.ylabel('')
plt.show()
